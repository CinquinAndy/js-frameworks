# React - useEffect : Effets de Bord

C'est lui qui va te permettre d'exÃ©cuter du code quand ton composant **se monte**, **se met Ã  jour** ou **se dÃ©monte**. API calls, timers, subscriptions... tout se passe ici !

---

## Comprendre useEffect

### Qu'est-ce qu'un "Effet de Bord" ?

Un effet de bord, c'est **toute action** qui sort du cadre du rendu pur :

- **API calls** : fetch des donnÃ©es
- â° **Timers** : setTimeout, setInterval
- ğŸ”Œ **Subscriptions** : websockets, event listeners
- ğŸ’¾ **localStorage** : sauvegarder des donnÃ©es
- **Analytics** : tracking d'Ã©vÃ©nements
- **DOM manipulation** : focus, scroll

### Cycle de Vie SimplifiÃ©

```jsx
import { useState, useEffect } from 'react'

function LifecycleWithUseEffect() {
  const [count, setCount] = useState(0)
  const [name, setName] = useState('')

  // ğŸ¬ Ã‰quivalent componentDidMount + componentDidUpdate
  useEffect(() => {
    console.log('Composant montÃ© OU mis Ã  jour')
    document.title = `Count: ${count}`
  }) // â† Pas de tableau = Ã  chaque rendu !

  // ğŸ¬ Ã‰quivalent componentDidMount seulement
  useEffect(() => {
    console.log('ğŸ¬ Composant montÃ© (UNE SEULE FOIS)')
    
    // ğŸ’€ Cleanup = componentWillUnmount
    return () => {
      console.log('ğŸ’€ Cleanup avant dÃ©montage')
    }
  }, []) // â† Tableau vide = une seule fois !

  // ğŸ¯ Effet spÃ©cifique Ã  count
  useEffect(() => {
    console.log('ğŸ“Š Count a changÃ©:', count)
    
    if (count > 10) {
      alert('Count dÃ©passe 10 !')
    }
  }, [count]) // â† Se dÃ©clenche quand count change !

  // ğŸ‘¤ Effet spÃ©cifique Ã  name
  useEffect(() => {
    console.log('ğŸ‘¤ Name a changÃ©:', name)
    
    if (name.length > 0) {
      localStorage.setItem('userName', name)
    }
  }, [name]) // â† Se dÃ©clenche quand name change !

  return (
    <div>
      <h3>Count: {count}</h3>
      <button onClick={() => setCount(count + 1)}>+1</button>

      <input
        value={name}
        onChange={e => setName(e.target.value)}
        placeholder="Votre nom..."
      />
    </div>
  )
}
```

## Ressources Pour Aller Plus Loin

- ğŸ“š [useEffect Documentation](https://react.dev/reference/react/useEffect)
- ğŸ¯ [useEffect Complete Guide](https://overreacted.io/a-complete-guide-to-useeffect/)
- ğŸ’¡ [Common useEffect Mistakes](https://react.dev/learn/synchronizing-with-effects)
- ğŸ”„ [Effect Dependencies](https://react.dev/learn/removing-effect-dependencies)
